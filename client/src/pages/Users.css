.usersPage{
  --u-panel-bg: rgba(15,23,42,.02);
  --u-panel-border: rgba(15,23,42,.10);
  --u-float-bg: var(--surface);
  --u-float-border: var(--border);
  --u-shadow: 0 12px 40px rgba(15,23,42,.14);
  --u-hover: rgba(37,99,235,.06);

  --u-sk-bg: rgba(15,23,42,.06);
  --u-sk-shimmer: rgba(15,23,42,.10);

  --u-danger-bg: rgba(239,68,68,.06);
  --u-danger-border: rgba(239,68,68,.22);
}

html[data-theme="dark"] .usersPage{
  --u-panel-bg: rgba(255,255,255,.04);
  --u-panel-border: rgba(255,255,255,.10);
  --u-float-bg: rgba(11,18,32,.98);
  --u-float-border: rgba(255,255,255,.12);
  --u-shadow: 0 18px 55px rgba(0,0,0,.35);
  --u-hover: rgba(96,165,250,.10);

  --u-sk-bg: rgba(255,255,255,.06);
  --u-sk-shimmer: rgba(255,255,255,.10);
}


.usersPage{
  min-height: calc(100vh - 32px); /* adapte si tu as une topbar */
}

/* le bloc card prend la hauteur dispo */
.usersPage .card{
  min-height: calc(100vh - 140px); /* ajuste si besoin */
  display: flex;
  flex-direction: column;
}

/* le tableau prend le reste et devient scroll si long */
.usersPage .tableWrap{
  flex: 1;
  overflow: auto;
}



/* tri */
.usersTable .thSort{
  cursor: pointer;
  user-select: none;
  white-space: nowrap;
}
.usersTable .thSort span{
  display: inline-block;
  vertical-align: middle;
}
.usersTable .thSort .sortArrow{
  margin-left: 8px;
  opacity: 0.65;
  font-size: 12px;
}
.usersTable .thSort.active .sortArrow{ 
  opacity: 1; 
}

.rowClickable{ 
  cursor: pointer; 
}
.rowClickable:hover{ 
  background: var(--u-hover); 
}

.cellName .nameMain{ 
  font-weight: 800; 
}
.mutedSmall{ 
  opacity: 0.72; 
  font-size: 12px; 
  margin-top: 2px; 
}

.cellEmail .emailWrap{ 
  display:flex; 
  align-items:center; 
  gap: 8px; }
.truncate{
  max-width: 220px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  display: inline-block;
}

/* petit bouton copier (sans casser .iconBtn global) */
.usersIconBtn{
  width: 34px;
  height: 34px;
  border-radius: 10px;
  padding: 0;
}

/* kebab button */
.kebabBtn{
  width: 38px;
  height: 34px;
  border-radius: 10px;
  border: 1px solid var(--icon-border);
  background: var(--icon-bg);
  cursor: pointer;
  font-size: 18px;
  line-height: 0;
  color: var(--text);
}
.kebabBtn:hover{ filter: brightness(1.08); }

/* kebab menu (✅ thème safe) */
.kebabMenu{
  position: absolute;
  right: 6px;
  top: 42px;
  width: 210px;
  background: var(--u-float-bg);
  color: var(--text);
  border: 1px solid var(--u-float-border);
  border-radius: 14px;
  box-shadow: var(--u-shadow);
  padding: 6px;
  z-index: 20;
}

.kItem{
  width: 100%;
  text-align: left;
  border: none;
  background: transparent;
  color: inherit;
  padding: 10px 10px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 700;
}
.kItem:hover{ 
  background: var(--u-panel-bg); 
}
.kItem.danger{ 
  color: #ef4444; 
}

.kSep{
  height: 1px;
  background: var(--u-panel-border);
  margin: 6px 0;
}

.bulkBar{
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 12px;
  border: 1px solid var(--u-panel-border);
  border-radius: 14px;
  margin-bottom: 12px;
  background: var(--u-panel-bg);
}
.input-sm{ 
  height: 34px; 
  padding: 6px 10px; 
  border-radius: 12px; 
}

.badge-warn{
  background: rgba(245,158,11,.10);
  border: 1px solid rgba(245,158,11,.22);
  color: #92400e;
}

.badge.role.admin{ 
  background: rgba(168, 85, 247, 0.18); 
  border: 1px solid rgba(168, 85, 247, 0.28); }
.badge.role.raf{ 
  background: rgba(59, 130, 246, 0.18); 
  border: 1px solid rgba(59, 130, 246, 0.28); }
.badge.role.logistique{ 
  background: rgba(34, 197, 94, 0.18); 
  border: 1px solid rgba(34, 197, 94, 0.28); }
.badge.role.demandeur{ 
  background: rgba(148, 163, 184, 0.14); 
  border: 1px solid rgba(148, 163, 184, 0.22); 
}

.emptyCell{ 
  padding: 30px 10px; 
}
.emptyState{ 
  text-align: center; 
  padding: 20px; 
}
.emptyTitle{ 
  font-size: 18px; 
  font-weight: 900; 
  margin-bottom: 6px; }

/* skeleton (✅ thème safe) */
.sk{
  border-radius: 12px;
  height: 14px;
  background: var(--u-sk-bg);
  position: relative;
  overflow: hidden;
}
.sk::after{
  content: '';
  position: absolute;
  inset: 0;
  transform: translateX(-50%);
  background: linear-gradient(90deg, transparent, var(--u-sk-shimmer), transparent);
  animation: sk 1.2s infinite;
}
@keyframes sk{
  0% { transform: translateX(-60%); }
  100% { transform: translateX(120%); }
}
.skLine{ width: 100%; }
.skPill{ width: 70px; height: 18px; border-radius: 999px; }
.skBox{ width: 18px; height: 18px; border-radius: 6px; }

.permGrid{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
}
.permItem{
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 10px;
  border: 1px solid var(--u-panel-border);
  border-radius: 14px;
  background: var(--u-panel-bg);
}

.rowInline{
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 10px;
}

.hint{
  font-size: 12px;
  opacity: 0.72;
  margin-top: 6px;
}

.dangerBox{
  border: 1px solid var(--u-danger-border);
  background: var(--u-danger-bg);
  border-radius: 14px;
  padding: 14px;
}
